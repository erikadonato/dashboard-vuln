import api from '../../services/api'
import { CardContainer, Data, SubTitle, Title } from './styles'
import { useEffect, useState } from 'react'

const VulnerabilityCard = () => {

    const [data, setData] = useState([])

    useEffect(()=>{
        api.get('/api/dashboard/cards/vulnerability').then(response => setData(response.data))
    }, [])

    return (
        <CardContainer>
            <Title  vuln>
                <SubTitle>
                    Contagem de vulnerabilidades 
                </SubTitle>
                <Data>
                    {data.vuln_count}
                </Data>
            </Title>
            <Title  vuln>
                <SubTitle>
                    Contagem de vulnerabilidades ativas
                </SubTitle>
                <Data>
                    {data.active_vuln_count}
                </Data>
            </Title>

        </CardContainer>
    )
}

export default VulnerabilityCard